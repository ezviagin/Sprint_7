# Sprint_6: UI тестирование сайта-сервиса **Яндекс Самокат**

# Описание
UI-тесты функциональности сайта [**Яндекс Самокат**](https://qa-scooter.praktikum-services.ru/) 
в браузере **Mozilla Firefox**

## Технологии (stack)
- Python 3.11
- PyTest
- RestAPI
- Allure

## Запуск тестов

1. Клонировать репозиторий с проектом

2. Перейти в корень проекта

3. Настроить виртуальную среду (virtual environment):
   ```bash
   python -m venv .venv
   ```
4. Запустить virtual environment:
   - Windows
     ```bash
     .venv\Scripts\activate
     ```
   - MacOS/Linux:
     ```bash
     source .venv/bin/activate
     ```
5. Установить зависимости:
   ```bash
   pip install -r requirements.txt
   ```
6. Запуск тестов:
     ```bash
      python -m pytest .\tests\ 
     ```

7. Allure отчеты:
    
    7.1 Сформировать .json отчёт:
    ``` bash
    python -m pytest .\tests\ --alluredir=allure_results
    ``` 
    7.2 Сформировать .html отчёт:
    ```bash
    allure serve allure_results
    ```
## Покрытие автотестами

- **Создание курьера**
  - [x] курьера можно создать;
  - [x] нельзя создать двух одинаковых курьеров;
  - [x] чтобы создать курьера, нужно передать в ручку все обязательные поля;
  - [x] запрос возвращает правильный код ответа;
  - [x] успешный запрос возвращает {"ok":true};
  - [x] если одного из полей нет, запрос возвращает ошибку;
  - [x] если создать пользователя с логином, который уже есть, возвращается ошибка.

- **Логин курьера**
  - [x] курьер может авторизоваться;
  - [x] для авторизации нужно передать все обязательные поля;
  - [x] система вернёт ошибку, если неправильно указать логин или пароль;
  - [x] если какого-то поля нет, запрос возвращает ошибку;
  - [x] если авторизоваться под несуществующим пользователем, запрос возвращает ошибку;
  - [x] успешный запрос возвращает id.

- **Удалить курьера**
  - [x] неуспешный запрос возвращает соответствующую ошибку;
  - [x] успешный запрос возвращает{"ok":true};
  - [x] если отправить запрос без id, вернётся ошибка;
  - [x] если отправить запрос с несуществующим id, вернётся ошибка.

- **Создание заказа**
  - [x] если можно указать один из цветов — BLACK или GREY;
  - [x] если можно указать оба цвета;
  - [x] если можно совсем не указывать цвет;
  - [x] если тело ответа содержит track.

- **Список заказов**
  - [x] если тело ответа содержит track.

- **Принять заказ**
  - [x] успешный запрос возвращает{"ok":true};
  - [x] если не передать id курьера, запрос вернёт ошибку;
  - [x] если передать неверный id курьера, запрос вернёт ошибку;
  - [x] если не передать id заказа, запрос вернёт ошибку;
  - [x] если передать неверный id заказа, запрос вернёт ошибку.

- **Получить заказ по его номеру**
  - [x] успешный запрос возвращает объект с заказом;
  - [x] запрос без номера заказа возвращает ошибку;
  - [x] запрос с несуществующим заказом возвращает ошибку.

- **Отчёт Allure**
  - [x] загружен отчет об успешных тестах

## Важно
Тесты не будут запускаться с установленным Python интерпретатором версии 3.12, поскольку в нём отсутствует модуль distutils
